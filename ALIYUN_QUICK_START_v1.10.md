# 阿里云部署 - 超简单版本（小白专用）- v1.10

## 🎯 部署后你会得到什么？

**一个可以通过互联网访问的网页！**

- ✅ 网址：`http://你的服务器IP`
- ✅ 功能：上传Excel文件 → 点击执行分析 → 查看报告
- ✅ 24小时运行，不需要你的电脑开着
- ✅ 同事可以通过网址访问使用
- ✅ **v1.10新特性**：ECharts交互式图表，更好的用户体验

---

## 📋 超简单步骤（跟着做就行）

### 第1步：买服务器（5分钟）

1. 打开浏览器，访问：https://www.aliyun.com
2. 登录（没有账号先注册）
3. 点击右上角"控制台"
4. 找到"轻量应用服务器"，点击进入
5. 点击"创建服务器"或"立即购买"
6. 选择：
   - **地域**：华东1（杭州）
   - **镜像**：Ubuntu 22.04
   - **套餐**：2核2G（24元/月）
7. 设置密码（**一定要记住！**）
8. 点击"立即购买"，完成支付
9. **记录**：IP地址、用户名（root）、密码

### 第2步：开防火墙（2分钟）

1. 在服务器详情页，点击"防火墙"标签
2. 点击"添加规则"
3. 添加3条规则：
   - 端口`80`，协议`TCP`，源`0.0.0.0/0`
   - 端口`443`，协议`TCP`，源`0.0.0.0/0`
   - 端口`5000`，协议`TCP`，源`0.0.0.0/0`
4. 每条规则都点击"确定"

### 第3步：连服务器（2分钟）

1. 在Mac上打开"终端"（按Command+空格，输入"终端"）
2. 输入以下命令（**替换为你的IP**）：
   ```bash
   ssh root@你的服务器IP
   ```
3. 首次连接输入`yes`，按回车
4. 输入密码（输入时不显示，直接输入后按回车）
5. 看到`root@xxx:~#`就成功了！

### 第4步：运行安装脚本（10分钟）

**如果代码已在GitHub上**：

```bash
# 1. 进入/opt目录
cd /opt

# 2. 从GitHub拉取代码（替换为你的仓库地址）
git clone https://github.com/你的用户名/review_analysis_v1.10.git

# 3. 进入项目目录
cd review_analysis_v1.10

# 4. 重命名主应用文件（v1.10特有）
cp app_v1.10.py app.py

# 5. 运行安装脚本（如果有的话）
# 或者手动执行：
bash deploy/install.sh
```

**如果代码还没上传到GitHub**：

先在本地推送代码到GitHub（参考`GITHUB_DEPLOYMENT_GUIDE.md`），然后再执行上面的步骤。

### 第5步：完成！（1分钟）

1. 脚本运行完成后，会显示访问地址
2. 在浏览器中打开显示的地址
3. 应该能看到文件上传界面
4. 测试上传文件和分析功能
5. **v1.10新特性**：测试图表交互（鼠标悬停查看数据）

---

## ✅ 完成！

现在你的同事可以通过以下网址访问：

```
http://你的服务器IP
```

例如：
```
http://47.123.45.67
```

---

## 🔧 如果遇到问题

### 问题1：脚本运行失败

**检查**：
```bash
# 检查代码是否在正确位置
ls -la /opt/review_analysis_v1.10

# 检查app.py是否存在
ls -la /opt/review_analysis_v1.10/app.py

# 检查服务状态
systemctl status review-analysis
```

### 问题2：无法访问网页

**检查**：
1. 防火墙是否开放了80端口
2. 服务是否运行：`systemctl status review-analysis`
3. 查看日志：`journalctl -u review-analysis -f`

### 问题3：图表不显示

**v1.10特有问题**：

**检查**：
- 打开浏览器开发者工具（F12）
- 查看Console是否有错误
- 检查ECharts.js是否加载成功

**解决**：
- 通常是网络问题，CDN无法访问
- 可以尝试刷新页面
- 或检查服务器网络连接

### 问题4：需要手动配置

如果脚本不工作，可以手动执行步骤，参考：
- `ALIYUN_DEPLOYMENT_STEPS_v1.10.md` - 快速步骤
- `ALIYUN_DEPLOYMENT_GUIDE_v1.10.md` - 详细指南

---

## 📝 常用命令

```bash
# 查看日志
journalctl -u review-analysis -f

# 重启服务
systemctl restart review-analysis

# 查看状态
systemctl status review-analysis
```

---

## 🆕 v1.10版本提示

1. **主应用文件**：需要将`app_v1.10.py`复制为`app.py`
2. **新增依赖**：会自动安装`pyecharts`
3. **图表交互**：所有图表都支持鼠标悬停和缩放

---

**就这么简单！跟着步骤做，30分钟就能完成部署！** 🎉
